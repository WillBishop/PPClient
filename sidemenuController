//
//  sidemenuController.swift
//  PP
//
//  Created by Will Bishop on 26/3/17.
//  Copyright Â© 2017 Will Bishop. All rights reserved.
//

import UIKit
import SideMenu
import Foundation

class sidemenuController: UITableViewController {
	
	var headers = ["Daymap", "About"]
	var sections = ["Daymap": ["Dayplan", "Homework", "Classes", "Grades", "Announcements"], "About": ["Settings"]]
	
	var selectedCell = String()
    override func viewDidLoad() {
        super.viewDidLoad()
    }

	

	override func viewWillAppear(_ animated: Bool) {
		print("Presented sidemenu")
		tableView.backgroundColor = Style.tableheaderColor
	}
	override func tableView(_ tableView: UITableView, willDisplay cell: UITableViewCell, forRowAt indexPath: IndexPath) {
		cell.backgroundColor = Style.tablecellColor
		
	}
	
	override func tableView(_ tableView: UITableView, viewForHeaderInSection section: Int) -> UIView? {
		let returnedView = UIView(frame: CGRect(x: 0, y: 0, width: view.frame.size.width, height: 25))
		returnedView.backgroundColor = Style.tableheaderColor
		
		let label = UILabel(frame: CGRect(x: 10, y: 2, width: view.frame.size.width, height: 25))
		label.text = self.tableView(tableView, titleForHeaderInSection: section)
		label.textColor = Style.sectionHeaderTitleColor
		returnedView.addSubview(label)
		
		return returnedView
	}
	
	override func prepare(for segue: UIStoryboardSegue, sender: Any?) {
		print("Going")
		var destviewController: wrapperviewController = segue.destination as! wrapperviewController
		var selectCell = tableView.indexPathForSelectedRow!
		
		var selectedHeader = selectCell[0]
		var selectedRow = selectCell[1]
		
		selectedCell = sections[headers[selectedHeader]]![selectedRow]
		
		//selectedCell = sections[headers[selectedSection]]![selectedRow]
		destviewController.selectedView = selectedCell
	}

	
}
